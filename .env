# ============================================================================
# MindMap Application - Single Unified Environment Configuration
# ============================================================================
# This single .env file works across all environments:
# - Local development (npm run dev)
# - CI/CD testing (GitHub Actions)
# - Docker containers
# - Vercel deployment
# - Any other hosting platform
#
# For production deployment, override values via platform environment variables
# ============================================================================

# ============================================================================
# DATABASE
# ============================================================================
# PostgreSQL connection string
# Production: Use Supabase or your PostgreSQL provider URL
DATABASE_URL="postgresql://postgres:F132999149@db.dtuweeavastbgrsrnomu.supabase.co:5432/postgres"

# ============================================================================
# AUTHENTICATION (NextAuth.js)
# ============================================================================
# Application URL - Change this to your production domain when deploying
# Development: http://localhost:3000
# Production: https://yourdomain.com
NEXTAUTH_URL="http://localhost:3000"

# Next.js public URL for client-side API calls
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Public API base URL
NEXT_PUBLIC_API_BASE="http://localhost:3000/api"

# Secret key for JWT signing (minimum 32 characters)
# Generate with: openssl rand -base64 32
# WARNING: Change this in production!
NEXTAUTH_SECRET="dummy-secret-key-for-build-min-32-chars-please-change-in-prod"

# ============================================================================
# ENCRYPTION
# ============================================================================
# Key for encrypting LLM API keys in database (must be 32 characters minimum)
# Generate with: openssl rand -base64 32
# CRITICAL: Keep this secret and backed up - changing it invalidates stored API keys!
ENCRYPTION_KEY="dummy-encryption-key-for-build-min-32-chars-change-prod"

# ============================================================================
# LLM PROVIDERS (Optional - Users can add via UI)
# ============================================================================
# These can be empty - users can configure their own keys via the settings page
# Only set these if you want server-side default keys
OPENAI_API_KEY=""
GEMINI_API_KEY=""

# ============================================================================
# REDIS (Optional)
# ============================================================================
# Used for job queue and caching
# If not provided, falls back to in-memory implementation
# Local: redis://localhost:6379
# Upstash: redis://default:password@region.upstash.io:6379
REDIS_URL=""

# ============================================================================
# WEB SEARCH PROVIDERS (Optional)
# ============================================================================
# At least one required for web search ingestion feature
# Sign up at: https://tavily.com, https://serpapi.com, or Azure Bing Search
TAVILY_API_KEY=""
SERPAPI_API_KEY=""
BING_SEARCH_API_KEY=""

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
# Application name displayed in UI
NEXT_PUBLIC_APP_NAME="MindMap"

# Node environment (automatically set by deployment platforms)
NODE_ENV="development"

# ============================================================================
# CORS (Optional)
# ============================================================================
# Comma-separated list of allowed origins for API requests
# Only needed if frontend is on different domain than API
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# ============================================================================
# LOGGING & DEBUGGING
# ============================================================================
# Set to "true" to skip environment variable validation (not recommended)
SKIP_ENV_VALIDATION="false"

# Log level: debug, info, warn, error
LOG_LEVEL="info"

# ============================================================================
# RATE LIMITING
# ============================================================================
# Number of requests allowed per time window
RATE_LIMIT_MAX_REQUESTS="10"
RATE_LIMIT_WINDOW_MS="60000"

# ============================================================================
# DEPLOYMENT NOTES
# ============================================================================
# When deploying to production:
# 1. Set DATABASE_URL to your production database
# 2. Generate new NEXTAUTH_SECRET and ENCRYPTION_KEY
# 3. Set NEXTAUTH_URL to your production domain
# 4. Configure LLM API keys if needed
# 5. Set NODE_ENV=production
# 6. Configure Redis URL for better performance
# 7. Set up proper CORS origins
#
# All these values can be overridden via platform environment variables
# (Vercel, Railway, Docker, etc.) without modifying this file
# ============================================================================
